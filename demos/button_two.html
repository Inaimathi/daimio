<!doctype html> 
<html> 
<head> 
  <meta charset="utf-8">
  <title>Push My Button! Volume Two: Electric Buttonloo (TWO buttons for every counter)</title>
  <script type="text/javascript" src="../get.php?file=node_modules/daimio"></script>
</head>

<body>

  <div>
    <p>The button has been pushed <span id="counter">0</span> times!</p>
  </div>
  
  <form id="button1">
    <p><input type="submit" value="add 1"></p>
  </form>
  
  <form id="button2">
    <p><input type="submit" value="add 2"></p>
  </form>
  
  <h3>The code</h3>
  
  <pre><code>
    outer
      @counter dom-set-text
      @button1 dom-on-submit
      @button2 dom-on-submit
      
      inc  {__ | add $count | > :count}
      
      @button1 -> {1} -> inc -> @counter
      @button2 -> {2} -> inc
  </code></pre>
  
  <h3>The spacial structure</h3>
  
  <pre><code>
    _____________________________________________________________
    |                                                           |
    |      _____                                                |
    |     /     \                                               |
    o----(  {1}  )-\                                            |
    |     \_____/   \                                           |
    |                \                                          |
    |                 \                                         |
    |                  \     ______________________________     |
    |                   \   /                              \    |
    |                    --(  {__ | add $count | > :count}  )---o
    |                   /   \______________________________/    |
    |                  /                                        |
    |                 /                                         |
    |      _____     /                                          |
    |     /     \   /                                           |
    o----(  {2}  )-/                                            |
    |     \_____/                                               |
    |                                                           |
    |___________________________________________________________|
    
  </code></pre>
  
  <script type="text/daimio" id="spaceseeds">

    outer
      @counter dom-set-text
      @button1 dom-on-submit
      @button2 dom-on-submit
      
      inc  {__ | add $count | > :count}
      
      @button1 -> {1} -> inc -> @counter
      @button2 -> {2} -> inc

  </script>
   
  
  <script type="text/javascript">    
    document.addEventListener('DOMContentLoaded', function() {
      var seedlikes = document.getElementById('spaceseeds').text
      var outerseed = D.make_some_space(seedlikes)
      OuterSpace = new D.Space(outerseed) // published for debug

      // var code = document.getElementById('hello_daimio')
      // D.run(code.text, function() {})
    })
  </script>
  
</body>
</html>