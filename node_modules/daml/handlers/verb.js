// Commands for verbs
// (c) dann toliver 2012

DAML.import_models({
  vars: {},
  verb: {
    desc: "Nounish stuff",
    help: "",
    methods: {

      add: {
        desc: 'Add a verb',
        help: "",
        params: [
          {
            key: 'name',
            desc: 'Some kind of verb name',
            type: 'string',
            required: true,
          },
        ],
        fun: function(name) {
          var verb = {name: name};
          DAML.db.collection('verbs', function(err, c) {
            c.insert(verb); // sync-style is ok here, because we're not waiting for confirmation
          });
        },
      },

      find: {
        desc: 'Find verbs',
        help: "",
        params: [],
        fun: function() {
          DAML.db.collection('verbs', function(err, c) {
            c.find().toArray(function(err, items) {
              global.output.push(items); /// FIXME!!!!!
            });
          });
        },
      },
    
    }
  }
});
